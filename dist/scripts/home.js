function main(){initializeAnchorLinks(),initializeSectionHighlight(),initializeMenu(),initializeTheme(),initializeCarousel(),initializeContactSection(),window.addEventListener("resize",(function(){initializeSectionHighlight()}))}function initializeAnchorLinks(){var e=document.querySelector(".header"),t=document.querySelectorAll(".header__nav-anchor, .header__menu-anchor");e&&0!==t.length&&t.forEach((function(t){t.addEventListener("click",(function(t){return handleAnchorClick(t,e)}))}))}function handleAnchorClick(e,t){e.preventDefault();var n=t.offsetHeight,o=e.target.closest("a");if(o){var i=o.getAttribute("href");if(i){var r=document.querySelector(i);if(r){var a=calculateScrollPosition(r,n);window.scrollTo({top:a,behavior:"smooth"})}}}}function calculateScrollPosition(e,t){return e.offsetTop-t}function initializeSectionHighlight(){var e={root:null,rootMargin:"0px",threshold:getDynamicThreshold()},t=document.querySelectorAll("section[id]"),n=document.querySelectorAll(".header__nav-anchor, .header__menu-anchor");if(t.length&&n.length){var o=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target.id,o=document.querySelectorAll('.header__nav-anchor[href="#'.concat(t,'"], .header__menu-anchor[href="#').concat(t,'"]'));e.isIntersecting&&o.length>0&&(n.forEach((function(e){e.classList.remove("active")})),o.forEach((function(e){e.classList.add("active")})))}))}),e);t.forEach((function(e){return o.observe(e)}))}}function getDynamicThreshold(){return window.innerWidth<960?.4:.9}function initializeMenu(){var e=document.querySelector(".header__options-button"),t=document.querySelector(".header__menu");e&&t&&(e.addEventListener("click",(function(){t.classList.remove("header__menu--hide"),t.classList.toggle("header__menu--fade-out"),t.classList.toggle("header__menu--fade-in")})),document.addEventListener("click",(function(n){var o=null==t?void 0:t.contains(n.target),i=null==e?void 0:e.contains(n.target);o||i||(t.classList.add("header__menu--fade-out"),t.classList.remove("header__menu--fade-in"))})))}function initializeTheme(){var e=document.querySelector(".header__menu-theme");if(e){var t=localStorage.getItem("theme")||"system";applyTheme(t),updateThemeButton(e,t),e.addEventListener("click",(function(){var t=getNextTheme(localStorage.getItem("theme")||"system");applyTheme(t),updateThemeButton(e,t),localStorage.setItem("theme",t)}))}}function applyTheme(e){var t=document.documentElement;"light"===e?t.setAttribute("data-theme","light"):"dark"===e?t.setAttribute("data-theme","dark"):t.removeAttribute("data-theme")}function updateThemeButton(e,t){var n=e.querySelector("i"),o=e.querySelector("span");n&&o&&("light"===t?(n.className="fa-solid fa-sun",o.textContent="Claro"):"dark"===t?(n.className="fa-solid fa-moon",o.textContent="Oscuro"):(n.className="fa-solid fa-circle-half-stroke",o.textContent="Sistema"))}function getNextTheme(e){return"system"===e?"light":"light"===e?"dark":"system"}function initializeCarousel(){var e=document.querySelector(".main__projects-carousel"),t=document.querySelector(".main__projects-arrow--left"),n=document.querySelector(".main__projects-arrow--right");e&&t&&n&&(t.addEventListener("click",(function(){return scrollCarousel(e,"left")})),n.addEventListener("click",(function(){return scrollCarousel(e,"right")})),e.addEventListener("scroll",(function(){toggleArrowVisibility(e,t,n)})),toggleArrowVisibility(e,t,n))}function scrollCarousel(e,t){var n=e.querySelector(".main__projects-grid");if(n){var o=n.offsetWidth+parseInt(getComputedStyle(e).gap||"0",10);e.scrollBy({left:"left"===t?-o:o,behavior:"smooth"})}}function toggleArrowVisibility(e,t,n){var o=e.scrollLeft,i=e.scrollWidth-e.offsetWidth;o<=4?(t.classList.remove("main__projects-arrow--fade-in"),t.classList.add("main__projects-arrow--fade-out")):(t.classList.remove("main__projects-arrow--hide"),t.classList.remove("main__projects-arrow--fade-out"),t.classList.add("main__projects-arrow--fade-in")),o>=i-4?(n.classList.remove("main__projects-arrow--fade-in"),n.classList.add("main__projects-arrow--fade-out")):(n.classList.remove("main__projects-arrow--hide"),n.classList.remove("main__projects-arrow--fade-out"),n.classList.add("main__projects-arrow--fade-in"))}function initializeContactSection(){var e=document.querySelector(".footer__section--email"),t=document.querySelector(".footer__section--cv");null==e||e.addEventListener("click",(function(e){handleCopyToClipboard(e.currentTarget)})),null==t||t.addEventListener("click",(function(e){return toggleCheckIcon(e.currentTarget,"fa-download")}))}function handleCopyToClipboard(e){navigator.clipboard.writeText("adrielgbm@gmail.com").then((function(){toggleCheckIcon(e,"fa-at")}))}function toggleCheckIcon(e,t){var n=e.querySelector("i");n&&(n.className="fa-solid fa-check",setTimeout((function(){n.className="fa-solid ".concat(t)}),2e3))}document.addEventListener("DOMContentLoaded",main);