function main(){initializeAnchorLinks(),initializeSectionHighlight(),initializeMenu(),initializeTheme(),initializeCarousel(),initializeCopyToClipboard(),window.addEventListener("resize",(function(){initializeSectionHighlight()}))}function initializeAnchorLinks(){var e=document.querySelector(".header"),t=document.querySelectorAll(".header__nav-anchor, .header__menu-anchor");e&&0!==t.length&&t.forEach((function(t){t.addEventListener("click",(function(t){return handleAnchorClick(t,e)}))}))}function handleAnchorClick(e,t){e.preventDefault();var i=t.offsetHeight,o=e.target.closest("a");if(o){var n=o.getAttribute("href");if(n){var r=document.querySelector(n);if(r){var a=calculateScrollPosition(r,i);window.scrollTo({top:a,behavior:"smooth"})}}}}function calculateScrollPosition(e,t){return e.offsetTop-t}function initializeSectionHighlight(){var e={root:null,rootMargin:"0px",threshold:getDynamicThreshold()},t=document.querySelectorAll("section[id]"),i=document.querySelectorAll(".header__nav-anchor, .header__menu-anchor");if(t.length&&i.length){var o=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target.id,o=document.querySelectorAll('.header__nav-anchor[href="#'.concat(t,'"], .header__menu-anchor[href="#').concat(t,'"]'));e.isIntersecting&&o.length>0&&(i.forEach((function(e){e.classList.remove("active")})),o.forEach((function(e){e.classList.add("active")})))}))}),e);t.forEach((function(e){return o.observe(e)}))}}function getDynamicThreshold(){return window.innerWidth<960?.4:.9}function initializeMenu(){var e=document.querySelector(".header__options-button"),t=document.querySelector(".header__menu");e&&t&&(e.addEventListener("click",(function(){t.classList.remove("header__menu--hide"),t.classList.toggle("header__menu--fade-out"),t.classList.toggle("header__menu--fade-in")})),document.addEventListener("click",(function(i){var o=null==t?void 0:t.contains(i.target),n=null==e?void 0:e.contains(i.target);o||n||(t.classList.add("header__menu--fade-out"),t.classList.remove("header__menu--fade-in"))})))}function initializeTheme(){var e=document.querySelector(".header__menu-theme");if(e){var t=localStorage.getItem("theme")||"system";applyTheme(t),updateThemeButton(e,t),e.addEventListener("click",(function(){var t=getNextTheme(localStorage.getItem("theme")||"system");applyTheme(t),updateThemeButton(e,t),localStorage.setItem("theme",t)}))}}function applyTheme(e){var t=document.documentElement;"light"===e?t.setAttribute("data-theme","light"):"dark"===e?t.setAttribute("data-theme","dark"):t.removeAttribute("data-theme")}function updateThemeButton(e,t){var i=e.querySelector("i"),o=e.querySelector("span");i&&o&&("light"===t?(i.className="fa-solid fa-sun",o.textContent="Claro"):"dark"===t?(i.className="fa-solid fa-moon",o.textContent="Oscuro"):(i.className="fa-solid fa-circle-half-stroke",o.textContent="Sistema"))}function getNextTheme(e){return"system"===e?"light":"light"===e?"dark":"system"}function initializeCarousel(){var e=document.querySelector(".main__projects-carousel"),t=document.querySelector(".main__projects-arrow--left"),i=document.querySelector(".main__projects-arrow--right");e&&t&&i&&(t.addEventListener("click",(function(){return scrollCarousel(e,"left")})),i.addEventListener("click",(function(){return scrollCarousel(e,"right")})),e.addEventListener("scroll",(function(){toggleArrowVisibility(e,t,i)})),toggleArrowVisibility(e,t,i))}function scrollCarousel(e,t){var i=e.offsetWidth;e.scrollBy({left:"left"===t?-i:i,behavior:"smooth"})}function toggleArrowVisibility(e,t,i){var o=e.scrollLeft,n=e.scrollWidth-e.offsetWidth;o<=0?(t.classList.remove("main__projects-arrow--fade-in"),t.classList.add("main__projects-arrow--fade-out")):(t.classList.remove("main__projects-arrow--hide"),t.classList.remove("main__projects-arrow--fade-out"),t.classList.add("main__projects-arrow--fade-in")),o>=n-1?(i.classList.remove("main__projects-arrow--fade-in"),i.classList.add("main__projects-arrow--fade-out")):(i.classList.remove("main__projects-arrow--hide"),i.classList.remove("main__projects-arrow--fade-out"),i.classList.add("main__projects-arrow--fade-in"))}function initializeCopyToClipboard(){var e=document.querySelector(".footer__section-copy");null==e||e.addEventListener("click",handleCopyToClipboard)}function handleCopyToClipboard(e){var t=e.currentTarget,i=t.dataset.copy;if(i){var o=t.querySelector("i");navigator.clipboard.writeText(i).then((function(){o&&(o.className="fa-solid fa-check",setTimeout((function(){o.className="fa-solid fa-at"}),2e3))}))}}document.addEventListener("DOMContentLoaded",main);